<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" http-equiv="Content-type" content="text/html">
  <title></title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="stylesheet" type="text/css" href="pageA.css">
  <script src="jquery-3.3.1.js"></script>
  <script type="text/javascript" src="jQuery_Transit.js"></script>
  <script type="text/javascript" src="Swipe.js"></script>
</head>
<style type="text/css">
  /*人物暂停*/
  .pauseWalk {
    -webkit-animation-play-state:  paused;
    -moz-animation-play-state: paused;
  }
</style>
<body>
  <div id="content">
    <ul class="content-wrap">
      <!-- 第一幅背景 -->
      <li>
        <div class="a_background">
          <div class="a_background_top"></div>
          <div class="a_background_middle"></div>
          <div class="a_background_bottom"></div>
        </div>
      </li>
      <!-- 第二幅背景 -->
      <li> 页面2 </li>
      <!-- 第三幅背景 -->
      <li> 页面3 </li>
    </ul>
    <div id="boy" class="charactor"></div>
  </div>
<!--   <div class="button">
    <button>点击切换页面</button>
  </div> -->
  <div class="button">
    <button>开始</button>
    <button>暂停</button>
  </div>
</body>
<script type="text/javascript">
  var swipe = Swipe($("#content"));

/*  $('button').click(function(){
    swipe.scrollTo($("#content").width()*2, 5000);
  });*/
//获取数据
  var getValue = function(className){
    var $elem = $('' + className + '');
      //走路的路线坐标
    return {
      height : $elem.height(),
      top : $elem.position().top
    }
  }

  //路的Y轴
  var pathY = function(){
    var data = getValue('.a_background_middle');
    return data.top + data.height /2;
  }();

  var $boy = $("#boy");
  var boyHeight = $boy.height();

  //修正小男孩的正确位置
  //路的中间位置减去小孩的高度，25是一个修正值
  $boy.css({
    top: pathY - boyHeight + 25
  });

  //开始动画
  $('button:first').click(function(){
    // 增加走路的css3关键帧规则
    $boy.addClass('slowWalk').transition({
      'left' : $('#content').width() + 'px',
    }, 10000);
  });

  //暂停动画
  $('button:last').click(function(){
    var left = $boy.css('left');
    //强制做了一个改变目标left的处理
    //动画师要运行10s，所以此时动画还是没结束
    $boy.css('left',left);
    $boy.addClass('pauseWalk');
  });

</script>
</html>